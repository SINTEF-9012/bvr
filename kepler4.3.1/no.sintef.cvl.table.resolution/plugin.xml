<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension point="org.eclipse.ui.newWizards">
      <category
            id="org.eclipse.emf.ecore.Wizard.category.ID"
            name="%_UI_Wizard_category"/>
      <wizard
            id="no.sintef.cvl.table.resolution.editors.CvlModelWizardID"
            name="%_UI_CvlModelWizard_label"
            class="no.sintef.cvl.table.resolution.editors.CvlModelWizard"
            category="org.eclipse.emf.ecore.Wizard.category.ID"
            icon="icons/full/obj16/CvlModelFile.gif">
         <description>%_UI_CvlModelWizard_description</description>
         <selection class="org.eclipse.core.resources.IResource"/>
      </wizard>
   </extension>

<!--   <extension point="org.eclipse.ui.editors">
      <editor
            id="no.sintef.cvl.table.resolution.editors.CvlResolutionEditorID"
            name="%_UI_CvlEditor_label"
            icon="icons/full/obj16/CvlModelFile.gif"
            extensions="cvl"
            class="no.sintef.cvl.table.resolution.editors.CvlResolutionEditor"
            contributorClass="no.sintef.cvl.table.resolution.editors.CvlActionBarContributor">
      </editor>
   </extension>
   -->
   <extension point="org.eclipse.ui.commands">
      <command
         categoryId="org.eclipse.ui.category.edit"
         defaultHandler="no.sintef.cvl.table.resolution.action.CreateResolutionHandler"
         description="Create Resolution"
         id="no.sintef.cvl.table.resolution.action.createResolution"
         name="createResolution"/>
      <command
         categoryId="org.eclipse.ui.category.edit"
         defaultHandler="no.sintef.cvl.table.resolution.action.CreateVInstanceHandler"
         description="Create VInstance"
         id="no.sintef.cvl.table.resolution.action.createVInstance"
         name="createVInstance">
      </command>
      <command
         categoryId="org.eclipse.ui.category.edit"
         defaultHandler="no.sintef.cvl.table.resolution.action.CheckValidationRootChoice"
         description="Validate Product"
         id="no.sintef.cvl.table.resolution.action.checkProduct"
         name="checkProduct">
      </command>
      <command
         categoryId="org.eclipse.ui.category.edit"
         defaultHandler="no.sintef.cvl.table.resolution.action.CheckValidationAllProduct"
         description="Validate All Product"
         id="no.sintef.cvl.table.resolution.action.checkAllProduct"
         name="checkAllProduct">
      </command>
 
   </extension>
   
<extension point="org.eclipse.ui.menus">
  <menuContribution locationURI="popup:org.eclipse.ui.popup.any?before=edit">
     <command label="Create Resolution" 
        commandId="no.sintef.cvl.table.resolution.action.createResolution"  style="push" >
        <visibleWhen
              checkEnabled="false">
          <iterate ifEmpty="false">
      		<adapt type="no.sintef.cvl.table.ConfigurableUnit">
      		</adapt>
    	  </iterate>
        </visibleWhen>
      </command>
  </menuContribution>
  <menuContribution locationURI="popup:org.eclipse.ui.popup.any?before=edit">
     <command label="Create Instance" 
        commandId="no.sintef.cvl.table.resolution.action.createVInstance" style="push" >
       <visibleWhen
              checkEnabled="false">
          <iterate ifEmpty="false">
      		<adapt type="no.sintef.cvl.table.resolution.custom.VirtualVClassifier">
      		</adapt>
    	  </iterate>
        </visibleWhen>
      </command>
  </menuContribution>
  <menuContribution locationURI="popup:org.eclipse.ui.popup.any?before=edit">
     <command label="Check product" 
        commandId="no.sintef.cvl.table.resolution.action.checkProduct" style="push" >
       <visibleWhen
              checkEnabled="false">
          <iterate ifEmpty="false">
      		<adapt type="no.sintef.cvl.table.VSpecResolution">
      		</adapt>
    	  </iterate>
        </visibleWhen>
      </command>
  </menuContribution>
 <menuContribution locationURI="popup:org.eclipse.ui.popup.any?before=edit">
     <command label="Check all product" 
        commandId="no.sintef.cvl.table.resolution.action.checkAllProduct" style="push" >
       <visibleWhen
              checkEnabled="false">
          <iterate ifEmpty="false">
      		<adapt type="no.sintef.cvl.table.ConfigurableUnit">
      		</adapt>
    	  </iterate>
        </visibleWhen>
      </command>
  </menuContribution>

  
</extension>

</plugin>

