<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension point="org.eclipse.ui.newWizards">
      <category
            id="org.eclipse.emf.ecore.Wizard.category.ID"
            name="%_UI_Wizard_category"/>
      <wizard
            id="org.bangbangbang.cvl.resolution.editors.CvlModelWizardID"
            name="%_UI_CvlModelWizard_label"
            class="org.bangbangbang.cvl.resolution.editors.CvlModelWizard"
            category="org.eclipse.emf.ecore.Wizard.category.ID"
            icon="icons/full/obj16/CvlModelFile.gif">
         <description>%_UI_CvlModelWizard_description</description>
         <selection class="org.eclipse.core.resources.IResource"/>
      </wizard>
   </extension>

   <extension point="org.eclipse.ui.editors">
      <editor
            id="org.bangbangbang.cvl.resolution.editors.CvlResolutionEditorID"
            name="%_UI_CvlEditor_label"
            icon="icons/full/obj16/CvlModelFile.gif"
            extensions="cvl"
            class="org.bangbangbang.cvl.resolution.editors.CvlResolutionEditor"
            contributorClass="org.bangbangbang.cvl.resolution.editors.CvlActionBarContributor">
      </editor>
   </extension>
   
   <extension point="org.eclipse.ui.commands">
      <command
         categoryId="org.eclipse.ui.category.edit"
         defaultHandler="org.bangbangbang.cvl.resolution.action.CreateResolutionHandler"
         description="Create Resolution"
         id="org.bangbangbang.cvl.resolution.action.createResolution"
         name="createResolution"/>
      <command
            categoryId="org.eclipse.ui.category.edit"
            defaultHandler="org.bangbangbang.cvl.resolution.action.CreateVInstanceHandler"
            description="Create VInstance"
            id="org.bangbangbang.cvl.resolution.action.createVInstance"
            name="createVInstance">
      </command>
   </extension>
   
<extension point="org.eclipse.ui.menus">
  <menuContribution locationURI="popup:org.eclipse.ui.popup.any?before=edit">
     <command label="Create Resolution" 
        commandId="org.bangbangbang.cvl.resolution.action.createResolution"  style="push" >
        <visibleWhen
              checkEnabled="false">
          <iterate ifEmpty="false">
      		<adapt type="org.bangbangbang.cvl.ConfigurableUnit">
      		</adapt>
    	  </iterate>
        </visibleWhen>
      </command>
  </menuContribution>
    <menuContribution locationURI="popup:org.eclipse.ui.popup.any?before=edit">
     <command label="Create Instance" 
        commandId="org.bangbangbang.cvl.resolution.action.createVInstance" style="push" >
       <visibleWhen
              checkEnabled="false">
          <iterate ifEmpty="false">
      		<adapt type="org.bangbangbang.cvl.resolution.custom.VirtualVClassifier">
      		</adapt>
    	  </iterate>
        </visibleWhen>
      </command>
  </menuContribution>

  
</extension>

</plugin>

